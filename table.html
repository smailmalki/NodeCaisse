<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<meta name="viewport" content="width=device-width, initial-scale=1">
		<title>jQuery UI Resizable - Default functionality</title>
		<script>window.$ = window.jQuery = require('jquery');</script>
		<script src="node_modules/jquery/dist/jquery.js"></script>
		<link rel='stylesheet' href='node_modules/bootstrap/dist/css/bootstrap.css' />
		<script src="node_modules/bootstrap/dist/js/bootstrap.min.js"></script>
		
		<script>window.$ = window.jQuery = require('jquery');</script>

		<style>
	
		#drag {
			position: absolute;
			top: 200px;
			left: 100px;
			width: 100px;
			height: 100px;
			border: 1px solid black
		}

		#resize {
			position: absolute;
			top: 283px;
			left: 183px;
			width: 30px;
			height: 30px;
			border:1px solid grey;
		}
		#resize2 {
			margin-top: 10px;
			margin-left: 10px;
			width: 10px;
			height: 10px;
			background: #000;
		}
		</style>
		<script>
		$( function() {
			//$( "#resizable" ).resizable();
			//$( "#resizable" ).draggable();;
		} );
		    
        
		</script>
	</head>
	<body class="body">	
			
		<div class="col-12 mt-4">
			<button type="button" class="btn btn-primary ml-4" onclick="window.location.href='index.html'">Accueil</button>
			<button type="button" class="btn btn-danger float-right mr-4"  onclick="poptitle.innerText='Quitter';poptext.innerText='Voulez-vous fermer le logiciel?';popvalid.onclick=function() {window.close()};$('#popmsg').modal('show');">Fermer</button>
		</div>
		<button type="button" class="btn btn-success mt-4" style="float:left;margin-left:20px;margin-top:10px;" onclick="window.location.href='index.html'">Ajouter table</button>
		
		
			<div id="drag">
				<h3 style="width:100%;background:grey;text-align:center;">Table#1</h3>
			</div>
			<div id="resize">
				<div id="resize2"></div>
			</div>


		<script>
			
			target = null;

			document.body.addEventListener('touchstart', handleTouchStart, false);
			document.body.addEventListener('touchmove', handleTouchMove, false);
			document.body.addEventListener('touchend', handleTouchEnd, false);
			document.body.addEventListener('touchcancel', handleTouchCancel, false);

			function handleTouchStart(e) {
				if (e.touches.length == 1) {
					var touch = e.touches[0];
					target = touch.target;
				}
			}
			function handleTouchMove(e) {
				if (e.touches.length == 1) {
					if(target ===  drag) {
						moveDrag(e);
					} else if (target === resize) {
						resizeDrag(e);
					}
				}
			}
			function handleTouchEnd(e) {
				if (e.touches.length == 0) { // User just took last finger off screen
					target = null;
				}
			}
			function handleTouchCancel(e) {
				return;
			}

			function resizeDrag(e) {
				var touch = e.touches[0];

				resize.style.left = (touch.pageX - 15)+ "px";
				resize.style.top = (touch.pageY - 15) + "px";

				drag.style.width = (touch.pageX - drag.offsetLeft+3)+ "px";
				drag.style.height = (touch.pageY - drag.offsetTop+3)+ "px";

			}
			function moveDrag(e) {
				var touch = e.touches[0];

				drag.style.left = (touch.pageX -drag.offsetWidth/2)+ "px";
				drag.style.top = (touch.pageY - drag.offsetHeight/2) + "px";
				resize.style.left=(touch.pageX + drag.offsetWidth/2 - 17)+ "px";
				resize.style.top=(touch.pageY + drag.offsetHeight/2 - 17)+ "px";
				
			}
		</script>
	</body>
</html>